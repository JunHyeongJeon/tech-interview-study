# 4. Database
**:book: Contents**
* [Primary Key, Foreign Key, ER 모델이란?](#Primary-Key,-Foreign-Key,-ER-모델)			
* [정규화에 대해서 말해보시오, 정규화의 목적은?](#정규화에-대해서-말해보시오,-정규화의-목적은?)
* [무결성에 대해 말해보시오](#무결성에-대해-말해보시오)					
* [조인이 무엇인지?(inner, left, right, outer)](#조인이-무엇인지?)
* [NoSQL이란? 기존RDBMS와 다른점은?](#NoSQL이란?-기존RDBMS와-다른점은?)
---
### Primary Key, Foreign Key, ER 모델

**Key 종류**
<img width="398" alt="db 키종류" src="https://user-images.githubusercontent.com/55946791/81372469-66127000-9135-11ea-8eda-78d06205cfaa.png">

- Super key : 유일성 O,  최소성 X
- Candidate key : 유일성 O, 최소성 O (키의 집합에서 하나라도 삭제하면 유일성 만족하지 못하는 성질)
- Primary key : 후보 키 중에서 선정된 키. 유일성 O, 최소성 O / Null값 가질수 없다
- Alternate Key : 후보 키에서 기본키를 뺀 모든 후보 키
- Foreign Key :  다른 테이블의 Primary key를 참조하는 컬럼

**ER 모델**
- Entity Relation Model
![er모델](https://user-images.githubusercontent.com/55946791/81372824-40399b00-9136-11ea-9dff-889b52f5da33.png)
- 개체(Entity), 애트리뷰트(Attribute), 관계성(Relation)으로 기술하는 데이터 모델을 말한다.

> [참고](https://victorydntmd.tistory.com/126)

### 정규화에 대해서 말해보시오, 정규화의 목적은?

**DB 정규화란 ?**
- RDBMS의 설계에서 중복을 최소화하여 데이터를 구조화하는 프로세스
- 연관성 있는 속성들을 분류하여, 각 릴레이션들에 이상현상이 생기지 않도록 하는 과정
- 정규형에는 1NF, 2NF, 3NF, BCNF, 4NF, 5NF, 6NF 까지 있다 (보통 3정규형 까지 되어있으면 정규화 되었다고 한다)

**정규화 종료**
- 1NF
- 2NF
- 3NF
-  

**DB 정규화가 필요한 이유?**
- DB설계를 잘못 하면 불필요한 데이터 중복으로 인해 공간이 낭비되고 부작용을 초래할수있다.
- 이러한 부작용을 이상(Anomaly)이라고 한다.
- 삽입이상, 갱신이상, 삭제이상이 있다.

**이상 예제**
- 기본키 : student_id, course_id
![db 정규화 예제](https://user-images.githubusercontent.com/55946791/81373708-56485b00-9138-11ea-9720-fc4f170775b9.JPG)

**삽입 이상**
- 세 데이터를 삽입하기 위해 불필요한 데이터도 함께 삽입해야 하는 문제
- ex )  아직 수업을 하나도 수강하지 않은 학생이 있다고 가정하자. 현재 KEY 를 학번과 과목코드로 지정해 놓았고 기본키로 쓰이는 컬럼은 NULL 이 될 수 없으므로 그 학생은 이 테이블에 추가 될 수가 없다. 굳이 삽입하려면 ‘미수강’ 같은 과목코드를 새로 만들어서 삽입해야 한다.

**갱신 이상**
- 중복 튜플 중 일부만 변경하여 데이터가 불일치하게 되는 모순
- ex ) 야붕이 컴퓨터공학이 싫어서 음악학부로 옮기게 되는경우 ‘컴퓨터공학부’ 의 갯수는 과목코드의 갯수만큼 있으므로 모두 ‘음악학부’ 로 변경해주어야 한다. 이때 모두 변경하지 않고 두개만 바꾸는 경우 야붕은 컴퓨터공학부인지 음악학부인지 알 수 없게 된다.

**삭제 이상**
- 튜플을 삭제하면 꼭 필요한 데이터까지 함께 삭제되는 데이터 손실의 문제
- ex ) 모찌가 수강정정기간에 MEC011101 라는 수업을 듣기 싫어져서 드랍하는 경우, 위 테이블에 반영하기 위해서는 모찌에 대한 행을 모두 삭제하게 된다. 수강취소를 반영하기 위해 학생등록정보를 모두 날리게 되는 것이다.


> [참고] (https://yaboong.github.io/database/2018/03/09/database-normalization-1/)

### 무결성에 대해 말해보시오

**무결성이란*
- 데이터의 정확성과 일관성을 유지하고 보증하는 것

**개체 무결성**
- 기본키로 설정된 컬럼은 고유한 값을 가지며 NULL허용X

**참조 무결성**
- 외래키 값은 NULL이거나 참조 릴레이션의 기본키 값과 동일해야 합니다.
- 즉 릴레이션은 참조할 수 없는 외래키 값을 가질 수 없습니다.
- 참조 관계에 있는 두 테이블의 데이터가 항상 일관된 값을 갖도록 유지하는것

**도메인 무결성**
- 특정 속성의 값이 그 속성이 정의된 도메인에 속한 값이어야 한다는 규정
- ex) 주민등록번호에 알파벳입력되면 도메인 무결성 깨진것

**고유 무결성**
- 특정 속성에 대해 고유한 값을 가지도록 조건이 주어진 경우, 그 속성값은 모두 달라야 하는 제약조건을 말합니다.
- ex)학생 릴레이션(테이블)에서 테이블 정의시 '이름' 속성에는 중복된 값이 없도록 제한했다면, '이름' 속성에는 중복된 이름이 있어서는 안됩니다.

**NULL 무결성**
- 특정 속성값에 NULL 이 올 수 없다는 조건이 주어진 경우, 그 속성값은 NULL 값이 올 수 없다는 제약조건을 말합니다.

**키 무결성**
- 한 릴레이션(테이블)에는 최소한 하나의 키가 존재해야 한다는 제약조건을 뜻합니다.

> [참고](https://limkydev.tistory.com/161)

### 조인이 무엇인지?
- inner, left, right, outer
- 관련 있는 컬럼을 기준으로 행을 합쳐주는 연산
![SQL JOIN](https://user-images.githubusercontent.com/55946791/81374887-3fefce80-913b-11ea-99cd-366bfb6d7c7d.png)

### NoSQL이란? 기존 RDBMS와 다른점은?
- 단순 검색 및 추가 작업에 있어서 매우 최적화된 키 값 저장 기법을 사용하여, 응답속도나, 처리 효율 등에 있어서 매우 뛰어난 성능을 나타냅니다.
- 초고용량 데이터 처리 등 성능에 특화된 목적을 위해, 비관계형 데이터 저장소에, 비구조적인 데이터를 저장하기 위한 분산 저장 시스템
- 종류 : MongoDB, HBASE, Cassandra등

>[참고](https://shoark7.github.io/programming/knowledge/what-is-NoSQL)

- key value, 문서같은것들을 데이터로 다룰수있음
- 와일드 컬럼db, 다큐먼트 db
- 검색속도, 응답속도, 처리 효율에 좋다
- 기존의 관계형데이터 베이스로는 처리하기 힘들다
